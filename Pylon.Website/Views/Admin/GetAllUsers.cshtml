@model IEnumerable<Pylon.BL.UserDTO>

<h2>GetAllUsers</h2>

<table class="table">
	<tr>
		<th>
			@Html.DisplayNameFor(model => model.Email)
		</th>
		<th>
			@Html.DisplayNameFor(model => model.FirstName)
		</th>
		<th>
			@Html.DisplayNameFor(model => model.LastName)
		</th>
		<th>
			@Html.DisplayNameFor(model => model.IsBlocked)
		</th>
		<th>
			@Html.DisplayNameFor(model => model.IsDeleted)
		</th>
	</tr>

	@foreach (var item in Model)
	{
		if (item.IsDeleted == false)
		{
	<tr>
		<td>
			@Html.DisplayFor(modelItem => item.Email)
		</td>
		<td>
			@Html.DisplayFor(modelItem => item.FirstName)
		</td>
		<td>
			@Html.DisplayFor(modelItem => item.LastName)
		</td>
		@if (item.IsBlocked == false)
		{
		<td>
			@using (Html.BeginForm("BlockUser", "Admin"))
			{
				@Html.Hidden("id", item.Id)
				<input type="submit" value="Block User" />
			}
		</td>
		}
		else
		{
		<td>
			@using (Html.BeginForm("UnblockUser", "Admin"))
			{
				@Html.Hidden("id", item.Id)
				<input type="submit" value="Unblock User" />
			}
		</td>
		}
		<td>
			@using (Html.BeginForm("DeleteUser", "Admin"))
			{
				@Html.Hidden("id", item.Id)
				<input type="submit" value="Delete User" />
			}
		</td>
	</tr>
			}
		}
</table>
